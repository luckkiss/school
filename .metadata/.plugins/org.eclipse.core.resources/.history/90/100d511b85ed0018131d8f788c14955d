package view {
	import laya.events.Event;
	import laya.ui.Box;
	import laya.ui.Label;
	
	import ui.MainViewUI;
	
	public class MainView extends MainViewUI	 {
		private var stockCode: int;
		private var chart: CandleChart;
		
		private var dataUtl: String = 'http://quotes.money.163.com/service/chddata.html?code=0{0}&start=19901219&end=20150911&fields=TCLOSE;HIGH;LOW;TOPEN;LCLOSE;CHG;PCHG;VOTURNOVER;VATURNOVER';
		private var code: String = '000400';
		
		public function MainView() {
			this.chart = new CandleChart();
			this.addChild(this.chart);
			
			this.draw(code);
		}
		
		private function draw(code: int): void {
			var url: String = this.dataUtl.replace('{0}', code);
			Laya.loader.load(url, this.onLoadComplete);
		}
		
		private function onLoadComplete(data: String): void {
			console.log(data);
		}
	}
}